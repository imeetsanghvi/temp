<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>Purple Air Plugin</title>

    <script src="jquery.js" language="javascript"></script>
    <script src="snap.svg.js" language="javascript"></script>

    <script src="iframe-phone.js" language="JavaScript"></script>
    <script src="CodapInterface.js" language="JavaScript"></script>

    <script src="pluginHelper.js" language="JavaScript"></script>
    <!-- bootstrap for html beautification -->
    <link 
    rel="stylesheet" 
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" 
    crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">


    <script src="purple_air.js" language="JavaScript"></script>
    <script>
        /**
         * Runs when everything is loaded.
         */
        $(function () {
            startCodapConnection();
        });
    </script>

</head>
<body>

<div class="container mt-4">
<!-- <form class="" id="pap_form" action="#"> -->
    <!-- city --> 
    <div class="input-group mb-3">
        <!-- <span class="input-group-text" id="cityHelp">@</span> -->
        
        <i class="input-group-text bi bi-geo-alt-fill"></i>
        <input 
            id="city_input" 
            type="text" 
            class="form-control" 
            placeholder="New York City" 
            style="width:fit-content;"
            aria-label="New York City"
            aria-describedby="cityHelp"
            > 
    </div>
    
    <!-- lat, long -->
    <div class="input-group mb-3">
        
        <!-- <span class="input-group-text" id="latLongHelp">Lat, Long</span> -->
        <i class="input-group-text bi bi-globe"></i>
        <input 
        id="lat_long_input" 
        type="text" 
        class="form-control col-lg-12" 
        placeholder="0.00, 0.00"
        aria-label="New York City"
        aria-describedby="cityHelp"
        style="width:fit-content;" 
        readonly>  
    </div>  

    <div class="d-flex justify-content-center mt-2">
        <button id="fetchMyLocation" onclick="purpleAir.fetchLocation()" class="btn btn-info mr-2 small">Fetch my location</button>
        <button id="clearLocation" onclick="purpleAir.clearLocation()" class="btn btn-info mr-2" >Clear Location</button>
        <button id="searchLocation" onclick="purpleAir.searchLocation()" class="btn btn-info">Search Location</button>
    </div>
    
    
    
    <!-- lat, long -->
    <div class="input-group mt-2">
        <label for="radiusRange" class="input-group-text form-label mr-1">Radius Miles</label>
        <input  
        type="range" 
        class="form-control bg-info mr-1" 
        min="10" max="100" value="10" id="radiusRange"
        oninput="this.nextElementSibling.value = this.value"
        onchange="purpleAIr.changeRadius()"
        >
        <output id="radiusText" class="input-group-text">10</output>
    </div>

    <!-- <div class="input-group mt-2">
        <label for="datePicker" class="input-group-text form-label mr-1">Start Date</label>
        <input type="date" id="startDate" name="startDate"
        value="" min="" max="">
        
    </div> -->

<p id="msg" class="alert alert-danger" style="display: none;"></p>
<!-- </form> -->
<button id="getPurpleAirData" onclick="purpleAir.getPurpleAirData()"  class="btn btn-outline-primary mt-2 btn-sm btn-block">Get Purple Air Data</button>

</div>


</body>
</html>